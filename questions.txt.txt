1. Describe Kubelet.

Kubelet - 
	* Primary node agent that runs on each node in K cluster.
	* Works in terms of Podspecs.
	* A podspec is a YAML or JSON object that describes a pod.
	* Kubelet receies podspec through API server
	API Server ---> podspecs ---> Kubelet.
	
	* Kubelet ensures that containers described in the podspecs are running and healthy.
	
Additional ways that Kubelet get podspecs

	1. File - --pod-manifest-path switch can be used to pass a path containing pods to run on startup. This path is rechecked every 20 sec ( configurable with a flag)
	2. HTTP endpoint - HTTP endpoint passed as a parameter on the command line. ( checked every 20 secs ( configurable))
	3. HTTP Server - The Kubelet can also listen for HTTP manifest posts.
	
2. How to stop all cluster components in Kubernetes? And remove cluster state?

Ans :
	1. Kill all process using kill command.
	
		sudo kill -SIGINT $(pidof kube-apiserver kubelet etcd)
	
	2. Before you restart your cluster, clear the kube-apiserver cluster state by removing etcd backing store.
	
		$rm -RF ~/default.etcd/
		
	3. Kubelet also caches its state on disk.   You can eliminate Kubelet's cached state by stopping kubelet and then removing the kubelet's backing store as well.
	
		$ sudo rm -RF /var/lib/kubelet
	** This is a good remedy for components that will not restart due to preexisting state that is out of synch with the rest of the cluster
	
	4. Recheck all of the Kubernetes services are stopped.
	
		$ pidof etcd kube-apiserver kubelet
	
	
	5. In addition to K8s components, we need to clean up what Docker is currently running.
	
		$ docker container rm $(docker container stop $(docker container ls -qa ))
		

3. How do you start Kubelet using files.

	* When you run the kubelet you can supply a single manifest file ( or several in a directory ) as a command line argument.  
	* On kubelet startup these manifests will start prior to the manifests supplied by the API server.
	  If no kube-apiserver is supplied the kubelet will simply run these manifests independently.
	  
	  
	 Syntax :
	 
	 --pod-manifest-path=""  - path to the pod spec file or directory of files
	 --file-check-frequency=20s  - duration between checking config files or new data.
	 
	 
4. Kubelet & HTTP Server.

The Kubelet has its own REST API and can be run as a standalone server when appropriate.  You can request information including pod details --/pods  and overall node status -- /healthz

The REST endpoint on the kubelet is enabled by default but you can disable it with the --enable-server=false (switch)	 


5. What is Kubelet backoff time ?

When container fails , the kubelet checks the backoff time and if it has expired the kubelet tries to recreate the container.  The back off ensures that the kubelet will not try to restart the container more than once in the backoff time window.

6. Explain about Schedular?

Kubernetes Schedular significantly effects placement of pods.

Kubernetes schedular is a 
		* Policy-rch
		* Topology aware
		* workload-specific
		
		function that significantly impacts 
		
				--> availability
				--> performance
				--> capacity.
				
Schedular needs to take account
	
		--> Individual and collective resource requirements.
		--> quality of service requirements
		--> hardware/softare/policy constraints
		--> affinity and anti-affinity specifications
		--> data locality
		--> inter-workload interference
		--> deadlines
		
Workload specific requirements will be exposed through the API as necessary.





	